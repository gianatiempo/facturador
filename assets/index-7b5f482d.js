import{v as O,L as ee,_ as te,M as ne,O as re,r as s,a as oe,c as $,C as k,u as ae,R as L}from"./index-c8087162.js";import{_ as B,r as R,s as se,c as ie}from"./index-9bb2c77d.js";function ue(e,t){typeof e=="function"?e(t):O(e)==="object"&&e&&"current"in e&&(e.current=t)}function ce(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(function(o){return o});return r.length<=1?r[0]:function(o){t.forEach(function(a){ue(a,o)})}}function fe(e){var t,n,r=ee.isMemo(e)?e.type.type:e.type;return!(typeof r=="function"&&!((t=r.prototype)!==null&&t!==void 0&&t.render)||typeof e=="function"&&!((n=e.prototype)!==null&&n!==void 0&&n.render))}var D=function(t){return+setTimeout(t,16)},U=function(t){return clearTimeout(t)};typeof window<"u"&&"requestAnimationFrame"in window&&(D=function(t){return window.requestAnimationFrame(t)},U=function(t){return window.cancelAnimationFrame(t)});var A=0,W=new Map;function F(e){W.delete(e)}var j=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;A+=1;var r=A;function o(a){if(a===0)F(r),t();else{var c=D(function(){o(a-1)});W.set(r,c)}}return o(n),r};j.cancel=function(e){var t=W.get(e);return F(e),U(t)};const y=j;var b=te({},ne),le=b.version,de=b.render,pe=b.unmountComponentAtNode,E;try{var ve=Number((le||"").split(".")[0]);ve>=18&&(E=b.createRoot)}catch{}function I(e){var t=b.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&O(t)==="object"&&(t.usingClientEntryPoint=e)}var w="__rc_react_root__";function me(e,t){I(!0);var n=t[w]||E(t);I(!1),n.render(e),t[w]=n}function he(e,t){de(e,t)}function be(e,t){if(E){me(e,t);return}he(e,t)}function ge(e){return S.apply(this,arguments)}function S(){return S=B(R().mark(function e(t){return R().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve().then(function(){var o;(o=t[w])===null||o===void 0||o.unmount(),delete t[w]}));case 1:case"end":return r.stop()}},e)})),S.apply(this,arguments)}function Re(e){pe(e)}function ye(e){return N.apply(this,arguments)}function N(){return N=B(R().mark(function e(t){return R().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(E===void 0){r.next=2;break}return r.abrupt("return",ge(t));case 2:Re(t);case 3:case"end":return r.stop()}},e)})),N.apply(this,arguments)}const we=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e.getBoundingClientRect){var o=e.getBoundingClientRect(),a=o.width,c=o.height;if(a||c)return!0}}return!1},Ee=e=>{const{componentCls:t,colorPrimary:n}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow 0.3s ${e.motionEaseInOut}`,`opacity 0.35s ${e.motionEaseInOut}`].join(",")}}}}},_e=re("Wave",e=>[Ee(e)]);function Ce(e){const t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return t&&t[1]&&t[2]&&t[3]?!(t[1]===t[2]&&t[2]===t[3]):!0}function _(e){return e&&e!=="#fff"&&e!=="#ffffff"&&e!=="rgb(255, 255, 255)"&&e!=="rgba(255, 255, 255, 1)"&&Ce(e)&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&e!=="transparent"}function Se(e){const{borderTopColor:t,borderColor:n,backgroundColor:r}=getComputedStyle(e);return _(t)?t:_(n)?n:_(r)?r:null}const M="ant-wave-target";function C(e){return Number.isNaN(e)?0:e}const Ne=e=>{const{className:t,target:n,component:r}=e,o=s.useRef(null),[a,c]=s.useState(null),[d,g]=s.useState([]),[l,i]=s.useState(0),[p,v]=s.useState(0),[q,P]=s.useState(0),[z,G]=s.useState(0),[H,V]=s.useState(!1),T={left:l,top:p,width:q,height:z,borderRadius:d.map(f=>`${f}px`).join(" ")};a&&(T["--wave-color"]=a);function x(){const f=getComputedStyle(n);c(Se(n));const u=f.position==="static",{borderLeftWidth:h,borderTopWidth:m}=f;i(u?n.offsetLeft:C(-parseFloat(h))),v(u?n.offsetTop:C(-parseFloat(m))),P(n.offsetWidth),G(n.offsetHeight);const{borderTopLeftRadius:Y,borderTopRightRadius:J,borderBottomLeftRadius:Q,borderBottomRightRadius:X}=f;g([Y,J,X,Q].map(Z=>C(parseFloat(Z))))}if(s.useEffect(()=>{if(n){const f=y(()=>{x(),V(!0)});let u;return typeof ResizeObserver<"u"&&(u=new ResizeObserver(x),u.observe(n)),()=>{y.cancel(f),u==null||u.disconnect()}}},[]),!H)return null;const K=(r==="Checkbox"||r==="Radio")&&(n==null?void 0:n.classList.contains(M));return s.createElement(oe,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(f,u)=>{var h;if(u.deadline||u.propertyName==="opacity"){const m=(h=o.current)===null||h===void 0?void 0:h.parentElement;ye(m).then(()=>{m==null||m.remove()})}return!1}},f=>{let{className:u}=f;return s.createElement("div",{ref:o,className:$(t,{"wave-quick":K},u),style:T})})},We=(e,t)=>{var n;const{component:r}=t;if(r==="Checkbox"&&!(!((n=e.querySelector("input"))===null||n===void 0)&&n.checked))return;const o=document.createElement("div");o.style.position="absolute",o.style.left="0px",o.style.top="0px",e==null||e.insertBefore(o,e==null?void 0:e.firstChild),be(s.createElement(Ne,Object.assign({},t,{target:e})),o)},Te=We;function xe(e,t,n){const{wave:r}=s.useContext(k),[,o,a]=ae(),c=se(l=>{const i=e.current;if(r!=null&&r.disabled||!i)return;const p=i.querySelector(`.${M}`)||i,{showEffect:v}=r||{};(v||Te)(p,{className:t,token:o,component:n,event:l,hashId:a})}),d=s.useRef();return l=>{y.cancel(d.current),d.current=y(()=>{c(l)})}}const Le=e=>{const{children:t,disabled:n,component:r}=e,{getPrefixCls:o}=s.useContext(k),a=s.useRef(null),c=o("wave"),[,d]=_e(c),g=xe(a,$(c,d),r);if(L.useEffect(()=>{const i=a.current;if(!i||i.nodeType!==1||n)return;const p=v=>{!we(v.target)||!i.getAttribute||i.getAttribute("disabled")||i.disabled||i.className.includes("disabled")||i.className.includes("-leave")||g(v)};return i.addEventListener("click",p,!0),()=>{i.removeEventListener("click",p,!0)}},[n]),!L.isValidElement(t))return t??null;const l=fe(t)?ce(t.ref,a):a;return ie(t,{ref:l})},Oe=Le;export{M as T,Oe as W,ce as c,we as i,y as r,fe as s};
